import{a as o,j as e,H as w,L as a,r as g}from"./app-BtO6bbaj.js";import{B as t}from"./button-BDdyexDr.js";import{I as _}from"./input-Be_1l4wK.js";import{B as l}from"./badge-BAc7wY3g.js";import{C,a as k,b as S,c as T}from"./card-BWLgb6Jq.js";import{G as F}from"./GuestLayout-DVLL8PeM.js";import{L as j}from"./lock-BYshtPZ3.js";import{C as Q}from"./clock-BHZ-bqZ2.js";import{T as L}from"./target-DBjLZ_p3.js";import{U as P}from"./users-CK4Xw61E.js";import{T as B}from"./trophy-Cex5BL0w.js";import"./index-D04mhMVU.js";import"./index-BJHUWo6d.js";import"./index-iioAFgUO.js";import"./Combination-CZdRLAr9.js";import"./index-Ct9BIZHp.js";import"./index-DZfVEQ2e.js";import"./createLucideIcon-cI5Ko-Q5.js";import"./check-DctBFHwr.js";import"./credit-card-DztNwY6d.js";import"./chevron-down-DZ82b75w.js";function se({quizzes:r,categories:v,filters:i,hasActiveSubscription:N,user:c,auth:f}){const[n,m]=o.useState(i.search||""),[d,x]=o.useState(i.category_id||""),[p,h]=o.useState(i.type||""),y=s=>{s.preventDefault(),g.get(route("public.quizzes"),{search:n,category_id:d,type:p},{preserveState:!0,replace:!0})},u=()=>{m(""),x(""),h(""),g.get(route("public.quizzes"))};return e.jsxs(F,{auth:f,children:[e.jsx(w,{title:"Available Quizzes"}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Test Your Knowledge"}),e.jsx("p",{className:"text-xl md:text-2xl opacity-90",children:"Explore our collection of quizzes across various topics"}),!c&&e.jsx("div",{className:"mt-6",children:e.jsx(a,{href:route("register"),children:e.jsx(t,{size:"lg",variant:"secondary",children:"Sign Up to Track Progress"})})}),c&&!N&&e.jsx("div",{className:"mt-6",children:e.jsx(a,{href:route("subscription.plans"),children:e.jsx(t,{size:"lg",variant:"secondary",children:"Unlock Premium Quizzes"})})})]})})}),e.jsx("div",{className:"py-12 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:e.jsx("form",{onSubmit:y,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(_,{type:"text",placeholder:"Search quizzes...",value:n,onChange:s=>m(s.target.value)}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:s=>x(s.target.value),children:[e.jsx("option",{value:"",children:"All Categories"}),v.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.quizzes_count,")"]},s.id))]}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:p,onChange:s=>h(s.target.value),children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"free",children:"Free Quizzes"}),e.jsx("option",{value:"premium",children:"Premium Quizzes"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{type:"submit",children:"Filter"}),e.jsx(t,{type:"button",variant:"outline",onClick:u,children:"Clear"})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.data.map(s=>e.jsxs(C,{className:s.is_locked?"opacity-90":"",children:[e.jsxs(k,{children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(S,{className:"text-lg",children:s.title}),e.jsx("div",{className:"flex gap-1",children:s.type==="premium"?e.jsxs(l,{variant:"default",className:"bg-gradient-to-r from-yellow-500 to-orange-500",children:[s.is_locked?e.jsx(j,{className:"w-3 h-3 mr-1"}):null,"Premium"]}):e.jsx(l,{variant:"secondary",children:"Free"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx(l,{variant:"outline",className:"text-xs",children:s.category.name})})]}),e.jsxs(T,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:s.description||"No description available"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"w-4 h-4"}),s.time_limit?`${s.time_limit} min`:"No limit"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-4 h-4"}),"Pass: ",s.passing_score,"%"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-4 h-4"}),s.total_questions," questions"]}),s.best_score!==void 0&&s.best_score!==null&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4 text-yellow-500"}),"Best: ",s.best_score,"%"]})]}),c&&s.last_attempt&&e.jsx("div",{className:"mb-4 p-2 bg-gray-50 rounded text-sm",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Last attempt:"}),e.jsx(l,{variant:s.last_attempt.passed?"default":"secondary",children:s.last_attempt.score?`${s.last_attempt.score}%`:"In Progress"})]})}),s.is_locked?e.jsx(a,{href:route("subscription.plans"),className:"block",children:e.jsxs(t,{className:"w-full",variant:"outline",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Unlock with Premium"]})}):e.jsx(a,{href:route("public.quiz.show",s.id),className:"block",children:e.jsx(t,{className:"w-full",children:s.last_attempt&&s.last_attempt.status==="in_progress"?"Continue Quiz":s.attempts_count>0?"Retake Quiz":"Start Quiz"})})]})]},s.id))}),r.data.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No quizzes found matching your criteria."}),e.jsx(t,{onClick:u,className:"mt-4",children:"Clear Filters"})]}),r.last_page>1&&e.jsx("div",{className:"mt-8 flex justify-center gap-2",children:r.links.map((s,b)=>e.jsx(a,{href:s.url||"#",className:`px-4 py-2 rounded ${s.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 shadow-sm"} ${s.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label},preserveState:!0},b))})]})})]})}export{se as default};
