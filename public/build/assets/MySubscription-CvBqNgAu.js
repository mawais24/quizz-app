import{c as j,a as u,j as s,H as f,L as i,r as y}from"./app-BtO6bbaj.js";import{C as v,a as N,b as g,c as w}from"./card-BWLgb6Jq.js";import{B as n}from"./button-BDdyexDr.js";import{B as o}from"./badge-BAc7wY3g.js";import{S as m}from"./separator-C5QVjHu1.js";import{G as _}from"./GuestLayout-DVLL8PeM.js";import{A as b}from"./arrow-left-DAg__txE.js";import{c as x}from"./createLucideIcon-cI5Ko-Q5.js";import{C}from"./circle-x-C-Oj7izR.js";import"./index-BJHUWo6d.js";import"./index-iioAFgUO.js";import"./index-D04mhMVU.js";import"./Combination-CZdRLAr9.js";import"./index-Ct9BIZHp.js";import"./index-DZfVEQ2e.js";import"./check-DctBFHwr.js";import"./credit-card-DztNwY6d.js";import"./chevron-down-DZ82b75w.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],L=x("calendar",k);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],B=x("crown",M);function O({auth:p,currentSubscription:e,subscriptionHistory:c}){const{flash:t}=j().props,[l,d]=u.useState(!1),h=()=>{e&&confirm("Are you sure you want to cancel your subscription?")&&(d(!0),y.post(route("subscription.cancel"),{},{preserveScroll:!0,onFinish:()=>d(!1)}))},r=a=>a?new Date(a).toLocaleDateString():"—";return s.jsxs(_,{auth:p,children:[s.jsx(f,{title:"My Subscription"}),s.jsx("div",{className:"min-h-screen bg-gray-50 py-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs(i,{href:route("subscription.plans"),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-800",children:[s.jsx(b,{className:"w-4 h-4 mr-1"})," Back to Plans"]}),t?.success&&s.jsx("span",{className:"text-sm text-green-700",children:t.success}),t?.error&&s.jsx("span",{className:"text-sm text-red-700",children:t.error})]}),s.jsxs(v,{children:[s.jsx(N,{children:s.jsxs(g,{className:"flex items-center gap-2",children:[s.jsx(B,{className:"w-5 h-5"}),"My Subscription"]})}),s.jsxs(w,{className:"space-y-6",children:[e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-lg font-medium",children:e.subscription_plan?.name??"Plan"}),s.jsx("div",{className:"text-sm text-gray-600",children:e.subscription_plan?.description}),s.jsxs("div",{className:"text-sm text-gray-700 flex items-center gap-2",children:[s.jsx(L,{className:"w-4 h-4"}),s.jsxs("span",{children:["Started:"," ",r(e.starts_at)]}),s.jsx("span",{className:"mx-2",children:"•"}),s.jsxs("span",{children:["Ends:"," ",e.ends_at?r(e.ends_at):"Never (lifetime)"]})]})]}),s.jsx(o,{variant:e.status==="active"?"default":"secondary",children:e.status??"unknown"})]}),s.jsx(m,{}),s.jsx("div",{className:"flex gap-2",children:e.status==="active"?s.jsxs(n,{variant:"destructive",onClick:h,disabled:l,children:[s.jsx(C,{className:"w-4 h-4 mr-2"}),l?"Cancelling...":"Cancel Subscription"]}):s.jsx(i,{href:route("subscription.plans"),children:s.jsx(n,{children:"Choose a Plan"})})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-700",children:"You don’t have an active subscription."}),s.jsx(i,{href:route("subscription.plans"),children:s.jsx(n,{children:"Browse Plans"})})]}),s.jsx(m,{}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium mb-3",children:"History"}),c?.length?s.jsx("ul",{className:"space-y-2",children:c.map(a=>s.jsxs("li",{className:"flex items-center justify-between rounded border bg-white p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-sm font-medium",children:a.subscription_plan?.name??"Plan"}),s.jsxs("div",{className:"text-xs text-gray-600",children:[r(a.starts_at)," —"," ",a.ends_at?r(a.ends_at):"—"]})]}),s.jsx(o,{variant:a.status==="active"?"default":"secondary",children:a.status})]},a.id))}):s.jsx("p",{className:"text-sm text-gray-600",children:"No previous subscriptions."})]})]})]})]})})]})}export{O as default};
