import{u as C,a as b,j as e,H as y,L as q}from"./app-BtO6bbaj.js";import{A as S}from"./AuthenticatedLayout-CmtVOEO9.js";import{B as d}from"./button-BDdyexDr.js";import{I as n}from"./input-Be_1l4wK.js";import{L as o}from"./label-oDzHwur-.js";import{T as w}from"./textarea-DTysVfXs.js";import{S as O,a as F,b as I,c as B,d as c,e as E}from"./switch-DVryyeU1.js";import{C as A,a as Q,b as T,c as D}from"./card-BWLgb6Jq.js";import{T as L}from"./trash-2-n5P48ZAs.js";import"./transition-DM6K7q_w.js";import"./index-BJHUWo6d.js";import"./index-iioAFgUO.js";import"./index-D04mhMVU.js";import"./Combination-CZdRLAr9.js";import"./index-CGWBW53Y.js";import"./index-Dr5mBILA.js";import"./chevron-down-DZ82b75w.js";import"./createLucideIcon-cI5Ko-Q5.js";import"./check-DctBFHwr.js";function ie({quiz:m,question:a,auth:h}){const{data:r,setData:i,post:_,processing:j,errors:s}=C({question_text:a.question_text,option_a:a.option_a,option_b:a.option_b,option_c:a.option_c,option_d:a.option_d,correct_option:a.correct_option,is_active:a.is_active,order:a.order||0,question_image:null,remove_image:!1}),[p,x]=b.useState(a.image_path?`/storage/${a.image_path}`:null),v=t=>{t.preventDefault(),_(route("admin.quizzes.questions.update",[m.id,a.id]),{preserveScroll:!0,onSuccess:()=>{document.getElementById("question_image")&&(document.getElementById("question_image").value="")}})},g=t=>{const l=t.target.files[0];if(l){i("question_image",l);const u=new FileReader;u.onload=N=>{x(N.target.result),i("remove_image",!1)},u.readAsDataURL(l)}},f=()=>{i("question_image",null),i("remove_image",!0),x(null),document.getElementById("question_image")&&(document.getElementById("question_image").value="")};return e.jsxs(S,{user:h.user,children:[e.jsx(y,{title:"Edit Question"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-5xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(A,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between",children:[e.jsx("div",{children:e.jsx(T,{children:"Edit Question"})}),e.jsx(q,{href:route("admin.quizzes.questions.index",m.id),children:e.jsx(d,{variant:"outline",children:"Back to Questions"})})]}),e.jsx(D,{children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"question_text",children:"Question Text"}),e.jsx(w,{id:"question_text",value:r.question_text,onChange:t=>i("question_text",t.target.value),required:!0}),s.question_text&&e.jsx("p",{className:"text-sm text-red-500",children:s.question_text})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"question_image",children:"Question Image (Optional)"}),e.jsx(n,{id:"question_image",type:"file",accept:"image/*",onChange:g}),s.question_image&&e.jsx("p",{className:"text-sm text-red-500",children:s.question_image}),p&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Current image:"}),e.jsxs(d,{type:"button",variant:"destructive",size:"sm",onClick:f,className:"h-7 px-2",children:[e.jsx(L,{className:"w-4 h-4 mr-1"})," ","Remove"]})]}),e.jsx("img",{src:p,alt:"Question Preview",className:"max-w-xs max-h-48 object-contain border rounded"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"option_a",children:"Option A"}),e.jsx(n,{id:"option_a",value:r.option_a,onChange:t=>i("option_a",t.target.value),required:!0}),s.option_a&&e.jsx("p",{className:"text-sm text-red-500",children:s.option_a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"option_b",children:"Option B"}),e.jsx(n,{id:"option_b",value:r.option_b,onChange:t=>i("option_b",t.target.value),required:!0}),s.option_b&&e.jsx("p",{className:"text-sm text-red-500",children:s.option_b})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"option_c",children:"Option C"}),e.jsx(n,{id:"option_c",value:r.option_c,onChange:t=>i("option_c",t.target.value),required:!0}),s.option_c&&e.jsx("p",{className:"text-sm text-red-500",children:s.option_c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"option_d",children:"Option D"}),e.jsx(n,{id:"option_d",value:r.option_d,onChange:t=>i("option_d",t.target.value),required:!0}),s.option_d&&e.jsx("p",{className:"text-sm text-red-500",children:s.option_d})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"correct_option",children:"Correct Option"}),e.jsxs(O,{value:r.correct_option,onValueChange:t=>i("correct_option",t),children:[e.jsx(F,{children:e.jsx(I,{placeholder:"Select correct option"})}),e.jsxs(B,{children:[e.jsx(c,{value:"A",children:"Option A"}),e.jsx(c,{value:"B",children:"Option B"}),e.jsx(c,{value:"C",children:"Option C"}),e.jsx(c,{value:"D",children:"Option D"})]})]}),s.correct_option&&e.jsx("p",{className:"text-sm text-red-500",children:s.correct_option})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"order",children:"Order (Optional)"}),e.jsx(n,{id:"order",type:"number",min:"0",value:r.order,onChange:t=>i("order",t.target.value)}),s.order&&e.jsx("p",{className:"text-sm text-red-500",children:s.order})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{id:"is_active",checked:r.is_active,onCheckedChange:t=>i("is_active",t)}),e.jsx(o,{htmlFor:"is_active",children:"Active"}),s.is_active&&e.jsx("p",{className:"text-sm text-red-500",children:s.is_active})]}),e.jsx("div",{className:"pt-4",children:e.jsx(d,{type:"submit",className:"w-full",disabled:j,children:"Update Question"})})]})})]})})})]})}export{ie as default};
