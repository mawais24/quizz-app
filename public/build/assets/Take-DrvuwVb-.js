import{a,j as e,r as _t,H as Et,d as pe}from"./app-BtO6bbaj.js";import{u as E,c as Pt,a as P,b as At,d as St,B as T}from"./button-BDdyexDr.js";import{C as Mt,c as Ot}from"./card-BWLgb6Jq.js";import{P as Ft}from"./progress-DPndS2XX.js";import{c as U,u as oe,a as R,b as Lt,d as Gt}from"./index-D04mhMVU.js";import{c as me,u as Z,R as Wt,A as Ht,D as ge,C as zt,a as $t,P as Bt,h as Qt,b as Zt,d as Vt,F as Ut,e as Xt}from"./Combination-CZdRLAr9.js";import{P as $}from"./index-Ct9BIZHp.js";import{P as D}from"./index-BJHUWo6d.js";import{R as Yt}from"./index-Dr5mBILA.js";import{X as Kt,c as he,R as qt,I as Jt,C as eo}from"./index-DZfVEQ2e.js";import{u as to}from"./index-CGWBW53Y.js";import{L as oo}from"./label-oDzHwur-.js";import{C as ro}from"./clock-BHZ-bqZ2.js";import{c as L}from"./createLucideIcon-cI5Ko-Q5.js";import{A as no}from"./arrow-left-DAg__txE.js";import{A as so}from"./arrow-right-CNWG20Dc.js";import"./index-iioAFgUO.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],io=L("bookmark",ao);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fe=L("circle-check-big",lo);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],uo=L("eraser",co);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],fo=L("flag",po);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],go=L("maximize-2",mo);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],xo=L("pen-tool",ho);var[X]=U("Tooltip",[me]),Y=me(),xe="TooltipProvider",vo=700,ee="tooltip.open",[yo,re]=X(xe),ve=t=>{const{__scopeTooltip:r,delayDuration:o=vo,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:i}=t,c=a.useRef(!0),u=a.useRef(!1),d=a.useRef(0);return a.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),e.jsx(yo,{scope:r,isOpenDelayedRef:c,delayDuration:o,onOpen:a.useCallback(()=>{window.clearTimeout(d.current),c.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:a.useCallback(f=>{u.current=f},[]),disableHoverableContent:n,children:i})};ve.displayName=xe;var z="Tooltip",[bo,K]=X(z),ye=t=>{const{__scopeTooltip:r,children:o,open:s,defaultOpen:n,onOpenChange:i,disableHoverableContent:c,delayDuration:u}=t,d=re(z,t.__scopeTooltip),f=Y(r),[p,m]=a.useState(null),y=Z(),g=a.useRef(0),v=c??d.disableHoverableContent,j=u??d.delayDuration,b=a.useRef(!1),[w,x]=oe({prop:s,defaultProp:n??!1,onChange:S=>{S?(d.onOpen(),document.dispatchEvent(new CustomEvent(ee))):d.onClose(),i?.(S)},caller:z}),A=a.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),_=a.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,x(!0)},[x]),I=a.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x(!1)},[x]),G=a.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,x(!0),g.current=0},j)},[j,x]);return a.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),e.jsx(Wt,{...f,children:e.jsx(bo,{scope:r,contentId:y,open:w,stateAttribute:A,trigger:p,onTriggerChange:m,onTriggerEnter:a.useCallback(()=>{d.isOpenDelayedRef.current?G():_()},[d.isOpenDelayedRef,G,_]),onTriggerLeave:a.useCallback(()=>{v?I():(window.clearTimeout(g.current),g.current=0)},[I,v]),onOpen:_,onClose:I,disableHoverableContent:v,children:o})})};ye.displayName=z;var te="TooltipTrigger",be=a.forwardRef((t,r)=>{const{__scopeTooltip:o,...s}=t,n=K(te,o),i=re(te,o),c=Y(o),u=a.useRef(null),d=E(r,u,n.onTriggerChange),f=a.useRef(!1),p=a.useRef(!1),m=a.useCallback(()=>f.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(Ht,{asChild:!0,...c,children:e.jsx(D.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:d,onPointerMove:R(t.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),p.current=!0)}),onPointerLeave:R(t.onPointerLeave,()=>{n.onTriggerLeave(),p.current=!1}),onPointerDown:R(t.onPointerDown,()=>{n.open&&n.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:R(t.onFocus,()=>{f.current||n.onOpen()}),onBlur:R(t.onBlur,n.onClose),onClick:R(t.onClick,n.onClose)})})});be.displayName=te;var Co="TooltipPortal",[_r,jo]=X(Co,{forceMount:void 0}),F="TooltipContent",Ce=a.forwardRef((t,r)=>{const o=jo(F,t.__scopeTooltip),{forceMount:s=o.forceMount,side:n="top",...i}=t,c=K(F,t.__scopeTooltip);return e.jsx($,{present:s||c.open,children:c.disableHoverableContent?e.jsx(je,{side:n,...i,ref:r}):e.jsx(wo,{side:n,...i,ref:r})})}),wo=a.forwardRef((t,r)=>{const o=K(F,t.__scopeTooltip),s=re(F,t.__scopeTooltip),n=a.useRef(null),i=E(r,n),[c,u]=a.useState(null),{trigger:d,onClose:f}=o,p=n.current,{onPointerInTransitChange:m}=s,y=a.useCallback(()=>{u(null),m(!1)},[m]),g=a.useCallback((v,j)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},x=ko(w,b.getBoundingClientRect()),A=Do(w,x),_=_o(j.getBoundingClientRect()),I=Po([...A,..._]);u(I),m(!0)},[m]);return a.useEffect(()=>()=>y(),[y]),a.useEffect(()=>{if(d&&p){const v=b=>g(b,p),j=b=>g(b,d);return d.addEventListener("pointerleave",v),p.addEventListener("pointerleave",j),()=>{d.removeEventListener("pointerleave",v),p.removeEventListener("pointerleave",j)}}},[d,p,g,y]),a.useEffect(()=>{if(c){const v=j=>{const b=j.target,w={x:j.clientX,y:j.clientY},x=d?.contains(b)||p?.contains(b),A=!Eo(w,c);x?y():A&&(y(),f())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,p,c,f,y]),e.jsx(je,{...t,ref:i})}),[Ro,No]=X(z,{isInside:!1}),To=Pt("TooltipContent"),je=a.forwardRef((t,r)=>{const{__scopeTooltip:o,children:s,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:c,...u}=t,d=K(F,o),f=Y(o),{onClose:p}=d;return a.useEffect(()=>(document.addEventListener(ee,p),()=>document.removeEventListener(ee,p)),[p]),a.useEffect(()=>{if(d.trigger){const m=y=>{y.target?.contains(d.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,p]),e.jsx(ge,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:e.jsxs(zt,{"data-state":d.stateAttribute,...f,...u,ref:r,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(To,{children:s}),e.jsx(Ro,{scope:o,isInside:!0,children:e.jsx(Yt,{id:d.contentId,role:"tooltip",children:n||s})})]})})});Ce.displayName=F;var we="TooltipArrow",Io=a.forwardRef((t,r)=>{const{__scopeTooltip:o,...s}=t,n=Y(o);return No(we,o).isInside?null:e.jsx($t,{...n,...s,ref:r})});Io.displayName=we;function ko(t,r){const o=Math.abs(r.top-t.y),s=Math.abs(r.bottom-t.y),n=Math.abs(r.right-t.x),i=Math.abs(r.left-t.x);switch(Math.min(o,s,n,i)){case i:return"left";case n:return"right";case o:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Do(t,r,o=5){const s=[];switch(r){case"top":s.push({x:t.x-o,y:t.y+o},{x:t.x+o,y:t.y+o});break;case"bottom":s.push({x:t.x-o,y:t.y-o},{x:t.x+o,y:t.y-o});break;case"left":s.push({x:t.x+o,y:t.y-o},{x:t.x+o,y:t.y+o});break;case"right":s.push({x:t.x-o,y:t.y-o},{x:t.x-o,y:t.y+o});break}return s}function _o(t){const{top:r,right:o,bottom:s,left:n}=t;return[{x:n,y:r},{x:o,y:r},{x:o,y:s},{x:n,y:s}]}function Eo(t,r){const{x:o,y:s}=t;let n=!1;for(let i=0,c=r.length-1;i<r.length;c=i++){const u=r[i],d=r[c],f=u.x,p=u.y,m=d.x,y=d.y;p>s!=y>s&&o<(m-f)*(s-p)/(y-p)+f&&(n=!n)}return n}function Po(t){const r=t.slice();return r.sort((o,s)=>o.x<s.x?-1:o.x>s.x?1:o.y<s.y?-1:o.y>s.y?1:0),Ao(r)}function Ao(t){if(t.length<=1)return t.slice();const r=[];for(let s=0;s<t.length;s++){const n=t[s];for(;r.length>=2;){const i=r[r.length-1],c=r[r.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))r.pop();else break}r.push(n)}r.pop();const o=[];for(let s=t.length-1;s>=0;s--){const n=t[s];for(;o.length>=2;){const i=o[o.length-1],c=o[o.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))o.pop();else break}o.push(n)}return o.pop(),r.length===1&&o.length===1&&r[0].x===o[0].x&&r[0].y===o[0].y?r:r.concat(o)}var So=ve,Mo=ye,Oo=be,Re=Ce;const Fo=So,Lo=Mo,Go=Oo,Ne=a.forwardRef(({className:t,sideOffset:r=4,...o},s)=>e.jsx(Re,{ref:s,sideOffset:r,className:P("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...o}));Ne.displayName=Re.displayName;var q="Dialog",[Te]=U(q),[Wo,k]=Te(q),Ie=t=>{const{__scopeDialog:r,children:o,open:s,defaultOpen:n,onOpenChange:i,modal:c=!0}=t,u=a.useRef(null),d=a.useRef(null),[f,p]=oe({prop:s,defaultProp:n??!1,onChange:i,caller:q});return e.jsx(Wo,{scope:r,triggerRef:u,contentRef:d,contentId:Z(),titleId:Z(),descriptionId:Z(),open:f,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(m=>!m),[p]),modal:c,children:o})};Ie.displayName=q;var ke="DialogTrigger",De=a.forwardRef((t,r)=>{const{__scopeDialog:o,...s}=t,n=k(ke,o),i=E(r,n.triggerRef);return e.jsx(D.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":ae(n.open),...s,ref:i,onClick:R(t.onClick,n.onOpenToggle)})});De.displayName=ke;var ne="DialogPortal",[Ho,_e]=Te(ne,{forceMount:void 0}),Ee=t=>{const{__scopeDialog:r,forceMount:o,children:s,container:n}=t,i=k(ne,r);return e.jsx(Ho,{scope:r,forceMount:o,children:a.Children.map(s,c=>e.jsx($,{present:o||i.open,children:e.jsx(Bt,{asChild:!0,container:n,children:c})}))})};Ee.displayName=ne;var V="DialogOverlay",Pe=a.forwardRef((t,r)=>{const o=_e(V,t.__scopeDialog),{forceMount:s=o.forceMount,...n}=t,i=k(V,t.__scopeDialog);return i.modal?e.jsx($,{present:s||i.open,children:e.jsx($o,{...n,ref:r})}):null});Pe.displayName=V;var zo=At("DialogOverlay.RemoveScroll"),$o=a.forwardRef((t,r)=>{const{__scopeDialog:o,...s}=t,n=k(V,o);return e.jsx(Zt,{as:zo,allowPinchZoom:!0,shards:[n.contentRef],children:e.jsx(D.div,{"data-state":ae(n.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),M="DialogContent",Ae=a.forwardRef((t,r)=>{const o=_e(M,t.__scopeDialog),{forceMount:s=o.forceMount,...n}=t,i=k(M,t.__scopeDialog);return e.jsx($,{present:s||i.open,children:i.modal?e.jsx(Bo,{...n,ref:r}):e.jsx(Qo,{...n,ref:r})})});Ae.displayName=M;var Bo=a.forwardRef((t,r)=>{const o=k(M,t.__scopeDialog),s=a.useRef(null),n=E(r,o.contentRef,s);return a.useEffect(()=>{const i=s.current;if(i)return Qt(i)},[]),e.jsx(Se,{...t,ref:n,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:R(t.onCloseAutoFocus,i=>{i.preventDefault(),o.triggerRef.current?.focus()}),onPointerDownOutside:R(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&i.preventDefault()}),onFocusOutside:R(t.onFocusOutside,i=>i.preventDefault())})}),Qo=a.forwardRef((t,r)=>{const o=k(M,t.__scopeDialog),s=a.useRef(!1),n=a.useRef(!1);return e.jsx(Se,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||o.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=i.target;o.triggerRef.current?.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),Se=a.forwardRef((t,r)=>{const{__scopeDialog:o,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:i,...c}=t,u=k(M,o),d=a.useRef(null),f=E(r,d);return Vt(),e.jsxs(e.Fragment,{children:[e.jsx(Ut,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:i,children:e.jsx(ge,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ae(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Zo,{titleId:u.titleId}),e.jsx(Uo,{contentRef:d,descriptionId:u.descriptionId})]})]})}),se="DialogTitle",Me=a.forwardRef((t,r)=>{const{__scopeDialog:o,...s}=t,n=k(se,o);return e.jsx(D.h2,{id:n.titleId,...s,ref:r})});Me.displayName=se;var Oe="DialogDescription",Fe=a.forwardRef((t,r)=>{const{__scopeDialog:o,...s}=t,n=k(Oe,o);return e.jsx(D.p,{id:n.descriptionId,...s,ref:r})});Fe.displayName=Oe;var Le="DialogClose",Ge=a.forwardRef((t,r)=>{const{__scopeDialog:o,...s}=t,n=k(Le,o);return e.jsx(D.button,{type:"button",...s,ref:r,onClick:R(t.onClick,()=>n.onOpenChange(!1))})});Ge.displayName=Le;function ae(t){return t?"open":"closed"}var We="DialogTitleWarning",[Er,He]=Lt(We,{contentName:M,titleName:se,docsSlug:"dialog"}),Zo=({titleId:t})=>{const r=He(We),o=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return a.useEffect(()=>{t&&(document.getElementById(t)||console.error(o))},[o,t]),null},Vo="DialogDescriptionWarning",Uo=({contentRef:t,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${He(Vo).contentName}}.`;return a.useEffect(()=>{const n=t.current?.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(s))},[s,t,r]),null},Xo=Ie,Yo=De,Ko=Ee,ze=Pe,$e=Ae,Be=Me,Qe=Fe,Ze=Ge;const qo=Xo,Jo=Yo,er=Ze,tr=Ko,Ve=a.forwardRef(({className:t,...r},o)=>e.jsx(ze,{className:P("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:o}));Ve.displayName=ze.displayName;const or=St("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ue=a.forwardRef(({side:t="right",className:r,children:o,...s},n)=>e.jsxs(tr,{children:[e.jsx(Ve,{}),e.jsxs($e,{ref:n,className:P(or({side:t}),r),...s,children:[o,e.jsxs(Ze,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Kt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ue.displayName=$e.displayName;const Xe=({className:t,...r})=>e.jsx("div",{className:P("flex flex-col space-y-2 text-center sm:text-left",t),...r});Xe.displayName="SheetHeader";const Ye=a.forwardRef(({className:t,...r},o)=>e.jsx(Be,{ref:o,className:P("text-lg font-semibold text-foreground",t),...r}));Ye.displayName=Be.displayName;const Ke=a.forwardRef(({className:t,...r},o)=>e.jsx(Qe,{ref:o,className:P("text-sm text-muted-foreground",t),...r}));Ke.displayName=Qe.displayName;var ie="Radio",[rr,qe]=U(ie),[nr,sr]=rr(ie),Je=a.forwardRef((t,r)=>{const{__scopeRadio:o,name:s,checked:n=!1,required:i,disabled:c,value:u="on",onCheck:d,form:f,...p}=t,[m,y]=a.useState(null),g=E(r,b=>y(b)),v=a.useRef(!1),j=m?f||!!m.closest("form"):!0;return e.jsxs(nr,{scope:o,checked:n,disabled:c,children:[e.jsx(D.button,{type:"button",role:"radio","aria-checked":n,"data-state":rt(n),"data-disabled":c?"":void 0,disabled:c,value:u,...p,ref:g,onClick:R(t.onClick,b=>{n||d?.(),j&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),j&&e.jsx(ot,{control:m,bubbles:!v.current,name:s,value:u,checked:n,required:i,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});Je.displayName=ie;var et="RadioIndicator",tt=a.forwardRef((t,r)=>{const{__scopeRadio:o,forceMount:s,...n}=t,i=sr(et,o);return e.jsx($,{present:s||i.checked,children:e.jsx(D.span,{"data-state":rt(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r})})});tt.displayName=et;var ar="RadioBubbleInput",ot=a.forwardRef(({__scopeRadio:t,control:r,checked:o,bubbles:s=!0,...n},i)=>{const c=a.useRef(null),u=E(c,i),d=to(o),f=Gt(r);return a.useEffect(()=>{const p=c.current;if(!p)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==o&&g){const v=new Event("click",{bubbles:s});g.call(p,o),p.dispatchEvent(v)}},[d,o,s]),e.jsx(D.input,{type:"radio","aria-hidden":!0,defaultChecked:o,...n,tabIndex:-1,ref:u,style:{...n.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ot.displayName=ar;function rt(t){return t?"checked":"unchecked"}var ir=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J="RadioGroup",[lr]=U(J,[he,qe]),nt=he(),st=qe(),[cr,dr]=lr(J),at=a.forwardRef((t,r)=>{const{__scopeRadioGroup:o,name:s,defaultValue:n,value:i,required:c=!1,disabled:u=!1,orientation:d,dir:f,loop:p=!0,onValueChange:m,...y}=t,g=nt(o),v=Xt(f),[j,b]=oe({prop:i,defaultProp:n??null,onChange:m,caller:J});return e.jsx(cr,{scope:o,name:s,required:c,disabled:u,value:j,onValueChange:b,children:e.jsx(qt,{asChild:!0,...g,orientation:d,dir:v,loop:p,children:e.jsx(D.div,{role:"radiogroup","aria-required":c,"aria-orientation":d,"data-disabled":u?"":void 0,dir:v,...y,ref:r})})})});at.displayName=J;var it="RadioGroupItem",lt=a.forwardRef((t,r)=>{const{__scopeRadioGroup:o,disabled:s,...n}=t,i=dr(it,o),c=i.disabled||s,u=nt(o),d=st(o),f=a.useRef(null),p=E(r,f),m=i.value===n.value,y=a.useRef(!1);return a.useEffect(()=>{const g=j=>{ir.includes(j.key)&&(y.current=!0)},v=()=>y.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),e.jsx(Jt,{asChild:!0,...u,focusable:!c,active:m,children:e.jsx(Je,{disabled:c,required:i.required,checked:m,...d,...n,name:i.name,ref:p,onCheck:()=>i.onValueChange(n.value),onKeyDown:R(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:R(n.onFocus,()=>{y.current&&f.current?.click()})})})});lt.displayName=it;var ur="RadioGroupIndicator",ct=a.forwardRef((t,r)=>{const{__scopeRadioGroup:o,...s}=t,n=st(o);return e.jsx(tt,{...n,...s,ref:r})});ct.displayName=ur;var dt=at,ut=lt,pr=ct;const pt=a.forwardRef(({className:t,...r},o)=>e.jsx(dt,{className:P("grid gap-2",t),...r,ref:o}));pt.displayName=dt.displayName;const ft=a.forwardRef(({className:t,...r},o)=>e.jsx(ut,{ref:o,className:P("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(pr,{className:"flex items-center justify-center",children:e.jsx(eo,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ft.displayName=ut.displayName;function Pr({quiz:t,attempt:r,questions:o,answers:s,timeRemaining:n}){const[i,c]=a.useState(0),[u,d]=a.useState({}),[f,p]=a.useState({}),[m,y]=a.useState(n||null),[g,v]=a.useState(!1),[j,b]=a.useState(!1),w=a.useRef(null),x=a.useRef(null),[A,_]=a.useState(!1),[I,G]=a.useState("pen"),[S,mt]=a.useState("#000000"),[B,gt]=a.useState(2),[W,H]=a.useState(null),ht=a.useRef(null),[le,ce]=a.useState(!1);a.useEffect(()=>{const l={},h={};s&&s.length&&s.forEach(C=>{l[C.question_id]=C.selected_option,C.is_flagged&&(h[C.question_id]=!0)}),d(l),p(h)},[s]),a.useEffect(()=>{if(!m||m<=0)return;const l=setInterval(()=>{y(h=>h<=1?(clearInterval(l),de(),0):h-1)},1e3);return()=>clearInterval(l)},[m]),a.useEffect(()=>{if(g&&w.current){const l=w.current;l.width=l.offsetWidth,l.height=l.offsetHeight;const h=l.getContext("2d");h.lineCap="round",h.strokeStyle=S,h.lineWidth=B,x.current=h}},[g,S,B]),a.useEffect(()=>{if(W){const l=setTimeout(()=>{H(null)},3e3);return()=>clearTimeout(l)}},[W]);const xt=l=>{if(!l&&l!==0)return"--:--";const h=Math.floor(l/60),C=l%60;return`${h.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},N=o[i],vt=async(l,h)=>{d(C=>({...C,[l]:h})),b(!0);try{const C=await pe.post(route("quiz.submit-answer",{quiz:t.id,attempt:r.id}),{question_id:l,answer:h},{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",Accept:"application/json"}});console.log("Answer saved:",C.data),H({type:"success",message:"Answer saved"})}catch(C){console.error("Error saving answer:",C),H({type:"error",message:"Failed to save answer"})}finally{b(!1)}},yt=async l=>{if(le)return;ce(!0),p(C=>{const O={...C};return O[l]?delete O[l]:O[l]=!0,O});const h=`/quiz-attempt/${r.id}/question/${l}/toggle-flag`;try{console.log("Calling flag route:",h);const C=await pe.post(h,{},{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",Accept:"application/json"}});console.log("Flag toggled:",C.data),H({type:"success",message:"Flag toggled"})}catch(C){console.error("Error toggling flag:",C),p(O=>{const Q={...O};return Q[l]?delete Q[l]:Q[l]=!0,Q}),H({type:"error",message:"Failed to toggle flag"})}finally{ce(!1)}},bt=()=>{i<o.length-1&&c(l=>l+1)},Ct=()=>{i>0&&c(l=>l-1)},de=()=>{window.confirm("Are you sure you want to submit your quiz? You cannot return to this attempt after submission.")&&_t.post(route("quiz.complete",{quiz:t.id,attempt:r.id}))},jt=({nativeEvent:l})=>{const{offsetX:h,offsetY:C}=l;x.current.beginPath(),x.current.moveTo(h,C),_(!0)},wt=()=>{x.current.closePath(),_(!1)},Rt=({nativeEvent:l})=>{if(!A)return;const{offsetX:h,offsetY:C}=l;x.current.lineTo(h,C),x.current.stroke()},Nt=()=>{if(!w.current||!x.current)return;const l=w.current;x.current.clearRect(0,0,l.width,l.height)},Tt=()=>{G("eraser"),x.current&&(x.current.strokeStyle="#FFFFFF",x.current.lineWidth=15)},It=()=>{G("pen"),x.current&&(x.current.strokeStyle=S,x.current.lineWidth=B)},kt=l=>{mt(l),I==="pen"&&x.current&&(x.current.strokeStyle=l)},Dt=l=>{const h=parseInt(l);gt(h),I==="pen"&&x.current&&(x.current.lineWidth=h)},ue=l=>l?l.startsWith("http")||l.startsWith("/storage")?l:`/storage/${l}`:null;return e.jsxs(e.Fragment,{children:[e.jsx(Et,{title:`Taking Quiz: ${t.title}`}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[W&&e.jsx("div",{className:`mb-4 p-3 rounded text-white text-sm ${W.type==="success"?"bg-green-500":"bg-red-500"}`,children:W.message}),e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsx("h1",{className:"text-xl font-semibold",children:t.title}),m!==null&&e.jsxs("div",{className:"flex items-center text-sm font-medium",children:[e.jsx(ro,{className:"w-4 h-4 mr-1"}),"Time Remaining: ",xt(m)]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(Ft,{value:(i+1)/o.length*100}),e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[e.jsxs("span",{children:["Question ",i+1," of"," ",o.length]}),e.jsxs("span",{children:["Answered: ",Object.keys(u).length," ","of ",o.length]})]})]}),e.jsx(Mt,{className:"mb-4",children:e.jsxs(Ot,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold",children:["Question ",i+1]}),e.jsx(Fo,{children:e.jsxs(Lo,{children:[e.jsx(Go,{asChild:!0,children:e.jsx(T,{variant:f[N?.id]?"default":"outline",size:"sm",onClick:()=>yt(N.id),type:"button",disabled:le,children:e.jsx(fo,{className:`w-4 h-4 ${f[N?.id]?"text-white":""}`})})}),e.jsx(Ne,{children:e.jsxs("p",{children:[f[N?.id]?"Unflag":"Flag"," ","this question"]})})]})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-800",children:N?.question_text})}),N?.image_path&&e.jsxs("div",{className:"mb-4 relative",children:[e.jsx("img",{src:ue(N.image_path),alt:"Question illustration",className:"max-w-full rounded border",onError:l=>{console.error("Image load error:",l),l.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2VlZWVlZSIgLz4KICA8dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEycHgiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGFsaWdubWVudC1iYXNlbGluZT0ibWlkZGxlIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+Cjwvc3ZnPg==",l.target.onerror=null}}),e.jsxs(T,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>v(!0),type:"button",children:[e.jsx(go,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:"Draw"})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsx("div",{children:e.jsx(pt,{value:u[N?.id]||"",onValueChange:l=>{vt(N.id,l)},children:["A","B","C","D"].map(l=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded",children:[e.jsx(ft,{value:l,id:`option-${l}`,disabled:j,checked:u[N?.id]===l}),e.jsxs(oo,{htmlFor:`option-${l}`,className:"flex-1",children:[e.jsxs("span",{className:"font-medium mr-2",children:[l,"."]}),N?.[`option_${l.toLowerCase()}`]]})]},l))})})})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(T,{variant:"outline",onClick:Ct,disabled:i===0,type:"button",children:[e.jsx(no,{className:"w-4 h-4 mr-2"})," Previous"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(qo,{children:[e.jsx(Jo,{asChild:!0,children:e.jsxs(T,{variant:"outline",type:"button",children:[e.jsx(io,{className:"w-4 h-4 mr-2"}),"Flagged Questions",Object.keys(f).length>0&&e.jsx("span",{className:"ml-1 w-5 h-5 flex items-center justify-center bg-primary text-primary-foreground rounded-full text-xs",children:Object.keys(f).length})]})}),e.jsxs(Ue,{children:[e.jsxs(Xe,{children:[e.jsx(Ye,{children:"Flagged Questions"}),e.jsx(Ke,{children:"Questions you've marked for review"})]}),e.jsx("div",{className:"py-4",children:Object.keys(f).length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No flagged questions yet."}):e.jsx("div",{className:"space-y-2",children:o.map((l,h)=>f[l.id]&&e.jsxs("div",{children:[e.jsxs(T,{variant:i===h?"default":"outline",className:"w-full justify-start text-left",onClick:()=>{c(h)},type:"button",children:[e.jsxs("span",{className:"mr-2",children:["Q",h+1,"."]}),e.jsx("span",{className:"truncate",children:l.question_text.length>40?l.question_text.substring(0,40)+"...":l.question_text}),u[l.id]&&e.jsx("span",{className:"ml-auto",children:e.jsx(fe,{className:"w-4 h-4 text-green-500"})})]}),i===h&&e.jsx(er,{ref:ht,className:"hidden",onClick:()=>console.log("Sheet closed")})]},l.id))})})]})]}),e.jsx(T,{variant:"default",onClick:de,disabled:j,type:"button",children:"Submit Quiz"})]}),e.jsxs(T,{variant:"outline",onClick:bt,disabled:i===o.length-1,type:"button",children:["Next ",e.jsx(so,{className:"w-4 h-4 ml-2"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:o.map((l,h)=>e.jsx(T,{variant:i===h?"default":"outline",size:"sm",className:`w-10 h-10 p-0 ${f[l.id]?"border-yellow-500 border-2":""}`,onClick:()=>c(h),type:"button",children:u[l.id]?e.jsx(fe,{className:"w-4 h-4 text-green-500"}):h+1},l.id))})})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[90vw] h-[80vh] max-w-4xl flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold",children:"Drawing Canvas"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex space-x-1 mr-4",children:[e.jsx(T,{variant:I==="pen"?"default":"outline",size:"sm",onClick:It,type:"button",children:e.jsx(xo,{className:"w-4 h-4"})}),e.jsx(T,{variant:I==="eraser"?"default":"outline",size:"sm",onClick:Tt,type:"button",children:e.jsx(uo,{className:"w-4 h-4"})}),e.jsx(T,{variant:"outline",size:"sm",onClick:Nt,type:"button",children:"Clear"})]}),I==="pen"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"color",value:S,onChange:l=>kt(l.target.value),className:"w-8 h-8"}),e.jsxs("select",{value:B,onChange:l=>Dt(l.target.value),className:"border rounded px-2 py-1",children:[e.jsx("option",{value:"1",children:"Thin"}),e.jsx("option",{value:"2",children:"Medium"}),e.jsx("option",{value:"4",children:"Thick"}),e.jsx("option",{value:"6",children:"Very Thick"})]})]}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>v(!1),type:"button",children:"Close"})]})]}),e.jsxs("div",{className:"flex-1 relative p-4",children:[N?.image_path&&e.jsx("img",{src:ue(N.image_path),alt:"Canvas background",className:"absolute inset-0 w-full h-full object-contain p-4",onError:l=>{console.error("Canvas image load error:",l),l.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2VlZWVlZSIgLz4KICA8dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEycHgiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGFsaWdubWVudC1iYXNlbGluZT0ibWlkZGxlIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+Cjwvc3ZnPg==",l.target.onerror=null}}),e.jsx("canvas",{ref:w,onMouseDown:jt,onMouseUp:wt,onMouseMove:Rt,className:"absolute inset-0 w-full h-full cursor-crosshair z-10"})]})]})})]})}export{Pr as default};
